rules_version = '2';
service cloud.firestore {
     match /databases/{database}/documents {
          // Allow authenticated users to read/write their own timesheet documents
          match /timesheets/{userId} {
               allow read, write: if request.auth != null && request.auth.uid == userId;
          }

          // Allow authenticated users to read/write the shared timesheet document
          match /timesheets/shared {
               allow read, write: if request.auth != null;
          }

          // Allow all authenticated users to read/write projects (authentication handled at app level)
          match /projects/{projectId} {
               allow read, write: if true;
          }

          // Allow all authenticated users to read users collection (authentication handled at app level)
          match /users/{userId} {
               allow read, write: if true;
          }
     }
}
